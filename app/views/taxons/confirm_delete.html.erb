<h1><%= t('views.taxons.confirm_deletion_title') %> "<%= page.title %>"</h1>

<div class="lead"><%= t('views.taxons.confirm_deletion_restore') %></div>

<% if page.tagged.any? || page.children.any? %>
<div class="alert alert-warning clearfix" role="warning">
  <p>
    <%= t('views.taxons.delete_warning_1') %>
    <ul>
      <li><%= t('views.taxons.delete_warning_2') %></li>
      <li><%= t('views.taxons.delete_warning_3') %></li>
    </ul>
  </p>

  <%= link_to taxon_path(page.taxon_content_id), method: :delete, class: 'btn btn-md btn-danger pull-right left-space' do %>
    <span class="glyphicon glyphicon-trash"></span>
    <span><%= t('views.taxons.confirm_deletion') %></span>
  <% end %>

  <%= link_to taxon_path(page.taxon_content_id), class: 'btn btn-md btn-default pull-right' do %>
    <span>
      <%= t('views.taxons.cancel_button') %>
    </span>
  <% end %>
</div>
<% else %>
  <%= link_to taxon_path(page.taxon_content_id), class: 'btn btn-md btn-default' do %>
    <span>
      <%= t('views.taxons.cancel_button') %>
    </span>
  <% end %>

  <%= link_to taxon_path(page.taxon_content_id), method: :delete, class: 'btn btn-md btn-danger left-space' do %>
    <span class="glyphicon glyphicon-trash"></span>
    <span><%= t('views.taxons.confirm_deletion') %></span>
  <% end %>
<% end %>

<% if page.children.any? %>
  <h2>Children</h2>
  <table class="table queries-list table-bordered table-striped" data-module="filterable-table">
   <thead>
     <tr class="table-header">
       <th>Taxon</th>
     </tr>

     <%= render 'shared/table_filter' %>
   </thead>

   <tbody>
     <% page.children.each do |child| %>
       <tr>
         <td><%= link_to child.internal_name, taxon_path(child.content_id) %></td>
       </tr>
     <% end %>
   </tbody>
  </table>
<% end %>

<% if page.tagged.any? %>
  <h2>Tagged content</h2>
  <%= render 'tagged_content', tagged: page.tagged %>
<% end %>
